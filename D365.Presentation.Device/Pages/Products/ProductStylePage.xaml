<?xml version="1.0" encoding="utf-8" ?>

<ContentPage
    x:Class="D365.Presentation.Device.Pages.Products.ProductStylePage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:handlers="clr-namespace:D365.Presentation.Device.Handlers"
    xmlns:products="clr-namespace:D365.Presentation.Device.PageModels.Products"
    xmlns:records="clr-namespace:D365.Presentation.Device.Core.Records;assembly=D365.Presentation.Device.Core"
    Title="Styles"
    x:DataType="products:ProductStylePageModel">

    <Shell.SearchHandler>
        <handlers:GenericSearchHandler
            DisplayMemberName="."
            SearchPlaceholder="Search product styles..."
            SearchResults="{Binding Styles}" />
    </Shell.SearchHandler>


    <Grid>

        <RefreshView Command="{Binding RefreshCommand}" IsRefreshing="{Binding IsRefreshing}">

            <CollectionView ItemsSource="{Binding Styles}">

                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="records:D365ProductStyleRecord">

                        <Border
                            Margin="5"
                            Padding="5"
                            StrokeShape="RoundRectangle 5">
                            <Label FontAttributes="Bold" Text="{Binding StyleId}" />
                        </Border>

                    </DataTemplate>
                </CollectionView.ItemTemplate>

            </CollectionView>


        </RefreshView>


        <!--#region BoxView-->
        <Grid Opacity="0.5">
            <BoxView
                HorizontalOptions="Fill"
                IsVisible="{Binding IsBusy}"
                Opacity="0.6"
                VerticalOptions="Fill"
                Color="Black" />
        </Grid>

        <!--#endregion-->


        <!--  Loading Overlay  -->
        <ActivityIndicator
            BackgroundColor="Transparent"
            HorizontalOptions="Center"
            IsRunning="{Binding IsBusy}"
            IsVisible="{Binding IsBusy}"
            VerticalOptions="Center"
            Color="Black" />


    </Grid>


</ContentPage>